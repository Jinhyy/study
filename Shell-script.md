# ShellScript
## 쉘 스크립트
1. 개요
    - 사용자, 응용프로그램이 커널에게 명령을 내릴수 있도록 하는 프로그램

2. 작성 방법
    ```shell script
    #!/bin/bash       * 번역기로 /bin/bash 사용한다.
    echo -e 'hello world\n\n\n'
    ```
3. 줄끝 문자
    - 리눅스에서 줄끝 문자는 hex로는 '0A' 이다. ( '\n' )
    - but, 윈도우 혹은 다른 운영체제에서 줄끝문자는 리눅스와 틀리기 때문에 주의가 필요하다.
    - hexdump -C [파일명] 으로, 줄끝문자가 '0a'가 맞는지 확인할 수 있다.

4. 스크립트 실행방법
    - ./파일명 / bash 파일명 / source 파일명 / . 파일명
    
5. 특수문자
    - 공백문자 : bash는 공백문자로 문자열의 시작과 끝을 구분한다.
    - 확장 : 파라미터 확장 ${var} / 명령 대체 $(command) / 산술 확장 $((expression))
    - 큰 따옴표 : 큰 따옴표 안의 문자열을 하나의 문자열로 처리. ( \ 백슬래시, $ 달러, ` 백틱) 만 특수문자 처리.
    - 작은 따옴표 : 작은 따옴표 안의 모든 문자열을 하나의 문자열로 처리 ( 특수문자 모두 무시 )
    - 탈출 : 다음 문자가 특수문자로 해석되는 것을 방지 ( \ )
    - 주석 : #
    - 테스트 : [[ 조건 표현식 ]], 조건 표현식의 결과를 true or false로 리턴.
    - 부정 : !expression, 테스트나 종료상태를 무효화 시킬 수 있음.
    - 리다이렉션 : ><, 명령의 출력 또는 입력을 재지정
    - 파이프 : |, 초기 명령의 출력을 2차 명령의 입력으로 지정.
    - 명령 분리자 : ;, 같은 줄의 명령도 ;로 구분시킬 수 있다.
    - 인라인 그룹 : {}, 중괄호 안의 명령들을 하나의 명령으로 블록화.
    - 소괄호 : (), 중괄호와 비슷하게 하나의 명령으로 블록화 하나, 해당 명령어를 서브쉘을 생성하여 실행한다.
    - 산술 표현식 : (()), 산술표현식 안의 표현식을 산술 처리한다.
    - 홈 디렉토리 : ~
    - 백틱 : ``, 변수=`명령어` 명령어의 결과를 변수에 저장.

6. 쉘 변수
    - 변수지정 : 변수명=값 ( 공백문자 없어야 한다 ) 
    - 변수사용 : $변수명

7. 특수 매개 변수
    - $숫자, $*, $_ : n번째 인수, 혹은 모든, 마지막 매개변수 리턴.
    - $? : 가장 최근에 완료한 포그라운드 명령의 종료코드를 리턴.
    - $! : 백그라운드에서 가장 최근에 실행된 명령의 PID.
    - $$ : 현재 쉘의 PID
    - $# : 매개변수의 수.
    
9. declare, 변수 선언
    - 사용법 : declare -옵션(a-배열,i-정수,r-읽기전용/재지정불가,x-변수 export하기,)
    - (ex) 배열 선언 : declare -a list=(a1 a2 a3)

10. 문자열 조작
    - echo ${#string} :  string 문자열 단어수 출력.
    - echo ${string:0:5) : string 문자열 0번째부터 5개의 문자를 출력.
    - echo ${string#잘라낼문자열 정규식) : string 문자열에서 정규식에 해당하는 문자열을 제거 후 출력.
    - echo ${string%중간에잘라낼 문자열 정규식 ): string 문자열에서 정규식에 해당하는 문자열을 중간에 제거 후 출력.
    - echo ${string//제거할 문자열} : 해당 단어와 일치하는 모든단어 제거
    - echo ${string/치환대상문자열/치환할문자열} : 문자열을 찾아, 지정한 문자열로 치환.

11. globe 패턴
    - echo [정규식] : 현재폴더의 모든 파일명 출력
    - echo ??? ( 3문자로 되어있는 파일목록 출력 )
    - echo [a-d]?? ( a와 d 사이의 문자로 시작하고,  3문자로 되어있는 파일 목록 출력 )
    
12. tr, 문자열 치환 명령어
    - tr [] [치환대상 문자열] [치환할 문자열] [파일명]
    - 예제
        - 대문자로 치환 : tr [:lower] [:upper:] <<< "Hello World"
        - 공백 치환 : tr [:space:] '\t' <<< "Hello       World"
        - 여러 공백문자 1개로 치환 : tr -s [:space:] <<< "Hello       World"

13. cut, 문자열에서 원하는부분만 출력
    - 예제
        - cut -c1-3 파일명 : 해당 파일의 문자열들에서 1~3번째 문자열 리턴.
        - cut -d: -f1-4 파일명 : 해당 파일 문자열에서 delimeter로 ':'을 사용하여, 1~4번째 문자열만 리턴.
        
---
## 정규표현식과 검색도구
1. 정규표현식 - regexr.com
    - 개요 : 다른문자열을 검색하거나 치환할 목적으로 고안된 특수 문자열
    - 주요 특수문자
        > <a href="#"><img src="https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F99BC194C5B650B1031"></a>
    - 주요 예제
        - 핸드폰 번호 : (010|019|011)-\d{3,4}-\d{4}
        - 이메일 주소 : \w+@\w+\.\w+(\.\w+)?
        - css color 패턴 : #[0-9a-fA-F]+
        - IPv4 패턴 : [0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.

2. grep, egrep 명령어
    - 개요 : 문자열 검색 명령어
    - grep 사용법 : grep [options] 찾을문자열 찾을파일
    - egrep 사용법 : egrep [options] '정규표현식' 파일
    - 옵션 : ( E 정규식 사용, i 대소문자구분X, c 카운트출력,  a[n]/b[n] 검색대상 앞뒤 확인
    
3. sed 명령어
    - 개요 : 입력파일 변환없이 검색 후 변환하여 출력해주는 명령어
    - 예제
        - 문자열 변환 : sed 's/hello/Hello' 파일명
        - 각행 마지막 글자 변환 : sed 's/^....$//' 파일명

4. 중괄호 확장
    - 예제 : {1,2,3,4,5} / {1..5} / {a..z} / 디렉토리 계층 생성 {dir1,lib/{lib1,lib2},dir2} / 변수확장 사용가능 eval echo {1..$length}
    
5. 명령 대체 ( $(명령어) / `명령어` )
    - 예제 : echo "today is $(date)" / echo "today is `date`" 

6. 산술 확장 ( ((산술 표현식)) )
    - 예제 : echo (($v1+$v2))
    
7. exit과 종료코드
    - 예제 : rm myfile || { echo 'Could not delete file!' >&2; exit 1; } // 파일 생성실패 시 종료코드 1로 비정상 종료코드 반환.
    - 종료코드 : 0 (정상) 1(실패)
    
8. 논리연산자 &&과 ||
    - && : && 앞의 논리 표현식의 결과, 혹은 명령어의 종료 코드가 참 인 경우에만, 다음 명령어 수행 X
    - || : || 앞의 논리 표현식의 결과에 상관없이 다음 명령어 수행
    - 예제 : make && make install => make 명령어의 종료코드가 0인경우에 make install 명령어 수행한다.
    
9. 명령분리자 ;
    - 예제 : 명령어1; 명령어2
    - 주의 : 명령분리자를 사용하지 않고 tool=hammer echo $tool 이런식으로 사용하게 되면, 해당 쉘의 유효범위가 블록 범위이므로, 명령어 종료후, 실제 tool 변수에 저장되지 않는다. 
    
10. 인라인 그룹 - 명령어 그룹핑 시키기. {명령어1 &&/|| 명령어2;}
    - 예제 : ls dir3 && echo "dir3 exists" || { mkdir dir3 && echo "dir3 made.";}
    
### System Montiroing / DevOps






